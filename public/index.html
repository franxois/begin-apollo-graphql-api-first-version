<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Begin + Apollo GraphQL API</title>
    <link
      rel="stylesheet"
      href="https://static.begin.app/starter/default.css"
    />
    <link
      href="data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
      rel="icon"
      type="image/x-icon"
    />
    <style>
      :root {
        --dark: #333333;
        --light: #efefef;
      }

      .padding-0 {
        padding: 1rem;
      }

      .color-light {
        color: var(--light);
      }

      .background-color-dark {
        background-color: var(--dark);
      }

      .border-radius-4 {
        border-radius: 4px;
      }
      .button {
        margin: 2rem 0 0 0;
      }

      .btn {
        background-color: #e6870b;
        padding: 1rem;
        border-radius: 0.5rem;
        text-decoration: none;
        color: #fff;
      }

      .btn:hover {
        background-color: #e6870bc2;
      }
    </style>
  </head>
  <body>
    <h1 class="center-text">Begin + Apollo GraphQL API</h1>
    <section class="padding-0 background-color-dark border-radius-4">
      <pre><code id="code" class="color-light">
        Loading...
      </code></pre>
    </section>
    <div class="button"></div>
    <a href="/playground" class="btn">GraphQL Playground</a>
    </div>
    <!-- Example GraphQL query -->
    <script type="module">
      (async function () {
        let query = `{hello}`;
        let result = await fetch("/graphql", {
          method: "post",
          body: JSON.stringify({ query }),
          headers: {
            "X-Requested-With": "XMLHttpRequest",
            "Content-Type": "application/json",
          },
        });
        let json = await result.json();
        console.log(json);
        let code = document.getElementById("code");
        code.innerHTML = JSON.stringify(json, null, 2);
      })();
    </script>
  </body>
</html>
